{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst MY_API_KEY = \"50762825-7fe49127b3d94f6c93c99dfe1\";\n\nexport async function getImagesByQuery(query) {\n    const imageType = \"photo\";\n    const orientation = \"horizontal\";\n    const safesearch = true;\n    const perPage = 40;\n\n    const response = await axios.get('https://pixabay.com/api/', {\n        params: {\n            key: MY_API_KEY,\n            q: query,\n            image_type: imageType,\n            orientation: orientation,\n            safesearch: safesearch,\n            per_page: perPage,\n        }\n    });\n\n    return response.data;\n}","import SimpleLightbox from 'simplelightbox';\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst itemUl = document.querySelector(\".gallery\");\nconst loaderWrapper = document.querySelector(\".loader-wrapper\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    const galleryMarkup = images\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n            <li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                </a>\n                <div class=\"info\">\n                    <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n                    <p class=\"info-item\"><b>Views:</b> ${views}</p>\n                    <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n                    <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n                </div>\n            </li>\n        `)\n        .join(\"\");\n\n    itemUl.innerHTML += galleryMarkup;\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    itemUl.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loaderWrapper.classList.remove(\"is-hidden\");\n}\n\nexport function hideLoader() {\n    loaderWrapper.classList.add(\"is-hidden\");\n}\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport\n{\n    createGallery,\n    clearGallery,\n    showLoader,\n    hideLoader\n}\n    from './js/render-functions.js';\n\nconst form = document.querySelector(\".form\");\nform.addEventListener(\"submit\", handleClick);\n\nasync function handleClick(event) {\n    event.preventDefault();\n    const query = event.target.elements['search-text'].value.trim();\n\n    clearGallery();\n    if (query === \"\") {\n        iziToast.info({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\"\n        });\n        return;\n    }\n\n    showLoader();\n    try {\n        const data = await getImagesByQuery(query);\n        const images = data.hits;\n\n        if (images.length === 0) {\n            iziToast.info({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\"\n            });\n            return;\n        }\n\n        createGallery(images);\n\n        iziToast.success({\n            message: `We found ${data.totalHits} images.`, \n            position: \"topRight\"\n        });\n\n    } catch (error) {\n        console.error(\"Помилка запиту:\", error);\n        iziToast.error({\n            message: \"We're sorry, but we couldn't fetch images. Please try again later!\",\n            position: \"topRight\"\n        });\n    } finally {\n        hideLoader();\n        event.target.reset();\n    } \n}\n"],"names":["MY_API_KEY","getImagesByQuery","query","axios","itemUl","loaderWrapper","lightbox","SimpleLightbox","createGallery","images","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleClick","event","iziToast","data","error"],"mappings":"owBACA,MAAMA,EAAa,qCAEZ,eAAeC,EAAiBC,EAAO,CAiB1C,OAXiB,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WATU,QAUV,YATY,aAUZ,WAAY,GACZ,SAAU,EACb,CACT,CAAK,GAEe,IACpB,CClBA,MAAME,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAgB,SAAS,cAAc,iBAAiB,EAExDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAgBD,EACjB,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,gDAE3CL,CAAa;AAAA,sDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yDAGvBC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA;AAAA;AAAA,SAG7D,EACA,KAAK,EAAE,EAEZb,EAAO,WAAaM,EAEpBJ,EAAS,QAAO,CACpB,CAEO,SAASY,GAAe,CAC3Bd,EAAO,UAAY,EACvB,CAEO,SAASe,GAAa,CACzBd,EAAc,UAAU,OAAO,WAAW,CAC9C,CAEO,SAASe,GAAa,CACzBf,EAAc,UAAU,IAAI,WAAW,CAC3C,CC9BA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAW,EAE3C,eAAeA,EAAYC,EAAO,CAC9BA,EAAM,eAAc,EACpB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAGzD,GADAL,IACIhB,IAAU,GAAI,CACdsB,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDL,IACA,GAAI,CACA,MAAMM,EAAO,MAAMxB,EAAiBC,CAAK,EACnCO,EAASgB,EAAK,KAEpB,GAAIhB,EAAO,SAAW,EAAG,CACrBe,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDhB,EAAcC,CAAM,EAEpBe,EAAS,QAAQ,CACb,QAAS,YAAYC,EAAK,SAAS,WACnC,SAAU,UACtB,CAAS,CAEJ,OAAQC,EAAO,CACZ,QAAQ,MAAM,kBAAmBA,CAAK,EACtCF,EAAS,MAAM,CACX,QAAS,qEACT,SAAU,UACtB,CAAS,CACT,QAAc,CACNJ,IACAG,EAAM,OAAO,OAChB,CACL"}